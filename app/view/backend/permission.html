<div style="padding: 10px;">
<label>Group:</label>
<input id="cc" name="dept" value="aa">
</div>
<script type="text/javascript">
<!--
	$(document).ready(function(){
		$('#cc').combobox({
		    url:url_base+'group_backend/listdata',
		    valueField:'id',
		    textField:'auth_name',
		    onChange: function(newValue,oldValue){
				var url = url_base+'permission_backend/listdata?groupid='+newValue;
				$('#dg').datagrid('reload', url);
			}
		});

		$('#cc').combobox('select', 1);
	});
//-->
</script>
<table id="dg" title="Permissions" class="easyui-datagrid" style="width:100%;height:450px"
         url="<?php echo Core::base_url().'permission_backend/listdata?groupid=1';?>"
         toolbar="#toolbar" pagination="true"
         rownumbers="true" fitColumns="true" singleSelect="true">
     <thead>
         <tr>
             <th field="funcid" width="50">funcid</th>
             <th field="permission" width="50">permission</th>
         </tr>
     </thead>
 </table>
 <div id="toolbar">
     <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-add" plain="true" onclick="newpermission()">New permission</a>
     <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-edit" plain="true" onclick="editpermission()">Edit permission</a>
     <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-remove" plain="true" onclick="destroypermission()">Remove permission</a>
     <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-undo" plain="true" onclick="scanfunction()">Scan function</a>
 </div>
 
 <div id="dlg" class="easyui-dialog" style="width:400px;height:280px;padding:10px 20px;display:none"
         closed="true" buttons="#dlg-buttons">
     <div class="ftitle">permission Information</div>
     <form id="fm" method="post" novalidate>
         <div class="fitem">
             <label>Groupid:</label>
             <input name=groupid class="easyui-textbox" required="true">
         </div>
         <div class="fitem">
             <label>Funcid:</label>
             <input name="funcid" class="easyui-textbox" required="true">
         </div>
         <div class="fitem">
             <label>Permission:</label>
             <input name="permission" class="easyui-textbox" required="true">
         </div>
     </form>
 </div>
 <div id="dlg-buttons">
     <a href="javascript:void(0)" class="easyui-linkbutton c6" iconCls="icon-ok" onclick="savepermission()" style="width:90px">Save</a>
     <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-cancel" onclick="javascript:$('#dlg').dialog('close')" style="width:90px">Cancel</a>
 </div>

 <style type="text/css">
     #fm{
         margin:0;
         padding:10px 30px;
     }
     .ftitle{
         font-size:14px;
         font-weight:bold;
         padding:5px 0;
         margin-bottom:10px;
         border-bottom:1px solid #ccc;
     }
     .fitem{
         margin-bottom:5px;
     }
     .fitem label{
         display:inline-block;
         width:80px;
     }
     .fitem input{
         width:160px;
     }
 </style>
<script src="<?php echo Core::base_url(); ?>app/view/backend/js/permission.js"></script>